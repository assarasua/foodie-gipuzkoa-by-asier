generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Category {
  id            String       @id @default(cuid())
  slug          String       @unique
  emoji         String
  sortOrder     Int          @default(0)
  isActive      Boolean      @default(true)
  titleEs       String
  titleEn       String
  descriptionEs String
  descriptionEn String
  restaurants   Restaurant[]
  createdAt     DateTime     @default(now())
  updatedAt     DateTime     @updatedAt
}

model Restaurant {
  id             String   @id @default(cuid())
  slug           String   @unique
  categoryId     String
  category       Category @relation(fields: [categoryId], references: [id], onDelete: Restrict)
  nameEs         String
  nameEn         String
  specialtyEs    String
  specialtyEn    String
  descriptionEs  String
  descriptionEn  String
  city           String
  locationLabel  String
  priceTier      Int
  ratingAsier    Int?
  isYoungTalent  Boolean  @default(false)
  age            Int?
  mapUrl         String?
  websiteUrl     String?
  imageUrl       String?
  isPublished    Boolean  @default(true)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@index([categoryId])
  @@index([city])
  @@index([isPublished])
}

model Talent {
  id          String   @id @default(cuid())
  name        String
  role        String
  company     String
  location    String
  sector      String
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([sector])
  @@index([location])
}
